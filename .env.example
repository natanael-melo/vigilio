# ========================================
# Vigilo - Configuração de Exemplo
# ========================================
# Copie este arquivo para .env e preencha com suas configurações

# ========================================
# Evolution API (WhatsApp)
# ========================================
EVOLUTION_URL=https://sua-evolution-api.com
EVOLUTION_TOKEN=seu_token_aqui
EVOLUTION_INSTANCE=nome_da_instancia
NOTIFY_NUMBER=5511999999999

# ========================================
# n8n Webhook (Heartbeat)
# ========================================
N8N_HEARTBEAT_URL=https://seu-n8n.com/webhook/vigilo

# ========================================
# Configurações de Tempo
# ========================================
# Intervalo entre checagens em segundos (padrão: 60)
CHECK_INTERVAL=60

# Intervalo entre relatórios em horas (padrão: 4)
REPORT_HOURS=4

# Tempo de cooldown para alertas em segundos (padrão: 1800 = 30 minutos)
ALERT_COOLDOWN=1800

# ========================================
# Timezone
# ========================================
TZ=America/Sao_Paulo

# ========================================
# ========================================
# Nome Personalizado do Agente
# ========================================
# Define o nome que aparece nas mensagens (padrão: hostname do servidor)
# Exemplo: "Servidor-Producao", "VPS-Principal", "App-Server"
AGENT_NAME=

# ========================================
# Monitoramento de Containers
# ========================================
# Monitora TODOS os containers automaticamente? (true/false)
# - true: Monitora todos os containers (exceto os ignorados)
# - false: Monitora apenas os listados em WATCH_CONTAINERS
WATCH_ALL_CONTAINERS=true

# Containers para IGNORAR no monitoramento automático (separados por vírgula)
# O próprio vigilo-agent já é ignorado automaticamente
# Exemplo: "container-temporario,teste-dev"
IGNORE_CONTAINERS=

# Containers específicos para monitorar (apenas se WATCH_ALL_CONTAINERS=false)
# Liste os nomes dos containers separados por vírgula
# Exemplo: "postgres,nginx,redis"
WATCH_CONTAINERS=

# ========================================
# Limiares de Alerta (em porcentagem)
# ========================================
# CPU acima deste valor gera alerta (padrão: 85.0)
CPU_THRESHOLD=85.0

# RAM acima deste valor gera alerta (padrão: 90.0)
RAM_THRESHOLD=90.0

# Disco acima deste valor gera alerta (padrão: 90.0)
DISK_THRESHOLD=90.0

# ========================================
# Logging
# ========================================
# Níveis: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ========================================
# Docker Swarm (Automático)
# ========================================
# O Vigilo detecta automaticamente se está rodando em um Docker Swarm.
# Se estiver em um node MANAGER, ele irá:
#   - Listar todos os nodes do cluster com seus recursos
#   - Monitorar serviços do swarm e suas réplicas
#   - Enviar métricas agregadas do cluster
#   - Alertar sobre nodes down ou serviços degradados
#
# Se estiver em um node WORKER, ele irá:
#   - Monitorar apenas os containers locais
#   - Identificar-se como parte do swarm nos heartbeats
#
# Para deploy em Swarm, use:
#   docker stack deploy -c docker-compose-swarm.yml vigilo
#
# DICA: Em swarm, deixe AGENT_NAME vazio para usar o hostname real
# de cada VPS, facilitando a identificação no n8n.
